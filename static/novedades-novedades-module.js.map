{"version":3,"sources":["webpack:///./src/app/novedades/edit-promotions/edit-promotions.component.html","webpack:///./src/app/novedades/edit-promotions/edit-promotions.component.scss","webpack:///./src/app/novedades/edit-promotions/edit-promotions.component.ts","webpack:///./src/app/novedades/novedades-routing.module.ts","webpack:///./src/app/novedades/novedades.component.html","webpack:///./src/app/novedades/novedades.component.scss","webpack:///./src/app/novedades/novedades.component.ts","webpack:///./src/app/novedades/novedades.module.ts","webpack:///./src/app/novedades/upload-image/upload-image.component.html","webpack:///./src/app/novedades/upload-image/upload-image.component.scss","webpack:///./src/app/novedades/upload-image/upload-image.component.ts","webpack:///./src/app/novedades/upload-video/upload-video.component.html","webpack:///./src/app/novedades/upload-video/upload-video.component.scss","webpack:///./src/app/novedades/upload-video/upload-video.component.ts"],"names":[],"mappings":"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","file":"novedades-novedades-module.js","sourcesContent":["module.exports = \"<div class=\\\"promotions\\\">\\r\\n  <h2 *ngIf=\\\"promotions && promotions.length === 0\\\">No hay promociones que mostrar</h2>\\r\\n  <div class=\\\"promotion\\\" *ngFor=\\\"let promotion of promotions\\\">\\r\\n    <div class=\\\"is-visible\\\" *ngIf=\\\"promotion.visible === false\\\">\\r\\n      <p>No se está mostrando</p>\\r\\n    </div>\\r\\n    <div class=\\\"buttons\\\">\\r\\n      <button mat-button *ngIf=\\\"promotion.visible === true\\\" (click)=\\\"hide(promotion._id)\\\">\\r\\n            <mat-icon>visibility_off</mat-icon>\\r\\n        </button>\\r\\n        <button mat-button *ngIf=\\\"promotion.visible === false\\\" (click)=\\\"show(promotion._id)\\\">\\r\\n            <mat-icon>visibility</mat-icon>\\r\\n        </button>\\r\\n        <button mat-button (click)=\\\"deleteOne(promotion._id)\\\">\\r\\n            <mat-icon>delete</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <img *ngIf=\\\"promotion.promotionType === 'image'\\\" [src]=\\\"baseUrl + '/' + promotion.url\\\" width=\\\"250\\\"/>\\r\\n    <video *ngIf=\\\"promotion.promotionType === 'video'\\\" width=\\\"250\\\" controls>\\r\\n        <source [src]=\\\"baseUrl + '/' + promotion.url\\\" [type]=\\\"'video/mp4'\\\">\\r\\n        Tu explorador no soporta html5\\r\\n    </video>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \".promotions {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  align-content: center;\\n  justify-content: center; }\\n  .promotions .promotion {\\n    margin-right: 1em;\\n    margin-bottom: 1em;\\n    position: relative; }\\n  .promotions .promotion .is-visible {\\n      position: absolute;\\n      top: 0;\\n      right: 0;\\n      width: 100%;\\n      text-align: center;\\n      background: rgba(255, 255, 255, 0.3);\\n      z-index: 10001; }\\n  .promotions .promotion .buttons {\\n      z-index: 10001;\\n      width: 100%;\\n      padding: 0.25em;\\n      padding-bottom: 0.4em;\\n      background: rgba(255, 255, 255, 0.3);\\n      display: flex;\\n      position: absolute;\\n      align-items: flex-end;\\n      align-content: flex-end;\\n      justify-content: flex-end;\\n      bottom: 0;\\n      right: 0; }\\n  .promotions .promotion .buttons .mat-button {\\n        padding: 0;\\n        margin: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbm92ZWRhZGVzL2VkaXQtcHJvbW90aW9ucy9DOlxcd29ya3NwYWNlLWdlbmVyYWxcXGJpbmdvXFxiaW5nby1hZG1pbi1hcHAvc3JjXFxhcHBcXG5vdmVkYWRlc1xcZWRpdC1wcm9tb3Rpb25zXFxlZGl0LXByb21vdGlvbnMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixtQkFBbUI7RUFDbkIscUJBQXFCO0VBQ3JCLHVCQUF1QixFQUFBO0VBTnpCO0lBU0ksaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixrQkFBa0IsRUFBQTtFQVh0QjtNQWNNLGtCQUFrQjtNQUNsQixNQUFNO01BQ04sUUFBUTtNQUNSLFdBQVc7TUFDWCxrQkFBa0I7TUFDbEIsb0NBQWlDO01BQ2pDLGNBQWMsRUFBQTtFQXBCcEI7TUF1Qk0sY0FBYztNQUNkLFdBQVc7TUFDWCxlQUFlO01BQ2YscUJBQXFCO01BQ3JCLG9DQUFvQztNQUNwQyxhQUFhO01BQ2Isa0JBQWtCO01BQ2xCLHFCQUFxQjtNQUNyQix1QkFBdUI7TUFDdkIseUJBQXlCO01BRXpCLFNBQVM7TUFDVCxRQUFRLEVBQUE7RUFuQ2Q7UUFxQ1EsVUFBVTtRQUNWLFNBQVMsRUFBQSIsImZpbGUiOiJzcmMvYXBwL25vdmVkYWRlcy9lZGl0LXByb21vdGlvbnMvZWRpdC1wcm9tb3Rpb25zLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnByb21vdGlvbnMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblxyXG4gIC5wcm9tb3Rpb24ge1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxZW07XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxZW07XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgLmlzLXZpc2libGUge1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgIHRvcDogMDtcclxuICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4zKTtcclxuICAgICAgei1pbmRleDogMTAwMDE7XHJcbiAgICB9XHJcbiAgICAuYnV0dG9ucyB7XHJcbiAgICAgIHotaW5kZXg6IDEwMDAxO1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgcGFkZGluZzogMC4yNWVtO1xyXG4gICAgICBwYWRkaW5nLWJvdHRvbTogMC40ZW07XHJcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XHJcbiAgICAgIGFsaWduLWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG5cclxuICAgICAgYm90dG9tOiAwO1xyXG4gICAgICByaWdodDogMDtcclxuICAgICAgLm1hdC1idXR0b24ge1xyXG4gICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Promotion } from './../../../models/promotion.model';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Component, OnInit, OnDestroy, AfterViewInit, Input, OnChanges } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-edit-promotions',\r\n  templateUrl: './edit-promotions.component.html',\r\n  styleUrls: ['./edit-promotions.component.scss']\r\n})\r\nexport class EditPromotionsComponent implements OnInit, OnDestroy, OnChanges {\r\n  @Input()\r\n  selected: number;\r\n\r\n  promotionsSubscription: Observable<any> = null;\r\n  promotions: Promotion[] = [];\r\n  baseUrl = 'http://localhost:3333';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  ngOnInit() {\r\n    console.log('NgOnInit()');\r\n    this._loadElements();\r\n  }\r\n\r\n  private _loadElements() {\r\n    this.promotions = [];\r\n    this.http.get(this.baseUrl + '/promotion').subscribe((data: Promotion[]) => {\r\n      if (data) {\r\n        this.promotions = data;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // TODO: falta arreglar esta parte\r\n    console.log('ngOnDestroy()');\r\n  }\r\n\r\n  ngOnChanges() {\r\n    // Si es la segunda pestaña volvemos a cargar\r\n    if (this.selected === 2) {\r\n      this._loadElements();\r\n    }\r\n  }\r\n\r\n  deleteOne(id: string) {\r\n    console.log('Deleting...', id);\r\n    const params = new HttpParams();\r\n    params.append('_id', id);\r\n    this.http.delete(this.baseUrl + '/promotion?id=' + id).subscribe(data => {\r\n      this._loadElements();\r\n    },\r\n      err => {\r\n        console.log('Error', err);\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  changeVisibility(id: string, visibility: boolean) {\r\n    const resultado = this.promotions.find(element => element._id === id);\r\n    if (resultado) {\r\n      resultado.visible = visibility;\r\n      this.http.put(this.baseUrl + '/promotion?id=' + id, resultado).subscribe(data => {\r\n        this._loadElements();\r\n      });\r\n    }\r\n  }\r\n\r\n  hide(id: string) {\r\n    this.changeVisibility(id, false);\r\n  }\r\n\r\n  show(id: string) {\r\n    this.changeVisibility(id, true);\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { NovedadesComponent } from './novedades.component';\n\nconst routes: Routes = [{\n  path: '',\n  component: NovedadesComponent\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class NovedadesRoutingModule { }\n","module.exports = \"<mat-card class=\\\"card\\\">\\r\\n  <mat-tab-group (selectedIndexChange)=\\\"changeSelected($event)\\\">\\r\\n    <mat-tab label=\\\"Subir vídeo\\\">\\r\\n      <div class=\\\"content\\\">\\r\\n        <app-upload-video></app-upload-video>\\r\\n      </div>\\r\\n    </mat-tab>\\r\\n    <mat-tab label=\\\"Subir foto\\\">\\r\\n      <div class=\\\"content\\\">\\r\\n        <app-upload-image></app-upload-image>\\r\\n      </div>\\r\\n    </mat-tab>\\r\\n    <mat-tab label=\\\"Editar promociones\\\">\\r\\n      <div class=\\\"content\\\">\\r\\n        <app-edit-promotions [selected]=\\\"selected\\\"></app-edit-promotions>\\r\\n      </div>\\r\\n    </mat-tab>\\r\\n  </mat-tab-group>\\r\\n</mat-card>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL25vdmVkYWRlcy9ub3ZlZGFkZXMuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-novedades',\n  templateUrl: './novedades.component.html',\n  styleUrls: ['./novedades.component.scss']\n})\nexport class NovedadesComponent implements OnInit {\n  selected: number;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  changeSelected(selected: number) {\n    console.log('Changed selected', selected);\n    this.selected = selected;\n  }\n\n}\n","import { HttpClientModule } from '@angular/common/http';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatCardModule, MatButtonModule, MatIconModule } from '@angular/material';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { NovedadesRoutingModule } from './novedades-routing.module';\r\nimport { NovedadesComponent } from './novedades.component';\r\nimport { UploadVideoComponent } from './upload-video/upload-video.component';\r\nimport { UploadImageComponent } from './upload-image/upload-image.component';\r\nimport { EditPromotionsComponent } from './edit-promotions/edit-promotions.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { ImageCropperModule, ImageCropperComponent } from 'ngx-image-cropper';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\n\r\n\r\n@NgModule({\r\n  declarations: [NovedadesComponent, UploadVideoComponent, UploadImageComponent, EditPromotionsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    NovedadesRoutingModule,\r\n    MatCardModule,\r\n    MatTabsModule,\r\n    ReactiveFormsModule,\r\n    ImageCropperModule,\r\n    MatButtonModule,\r\n    HttpClientModule,\r\n    MatSnackBarModule,\r\n    MatIconModule\r\n  ]\r\n})\r\nexport class NovedadesModule { }\r\n","module.exports = \"<form [formGroup]=\\\"uploadImageForm\\\" enctype=\\\"multipart/form-data\\\" (submit)=\\\"uploadImage()\\\">\\r\\n  <h2>Selecciona una image como promoción</h2>\\r\\n  <p>Luego podrás editarla.</p>\\r\\n  <input type=\\\"file\\\" accept=\\\"image/jpeg\\\" name=\\\"image\\\" (change)=\\\"fileChangeEvent($event)\\\" formControlName=\\\"image\\\" />\\r\\n  <image-cropper [imageChangedEvent]=\\\"imageChangedEvent\\\" [imageFileChanged]=\\\"imageBlob\\\" [maintainAspectRatio]=\\\"true\\\"\\r\\n    [resizeToWidth]=\\\"1200\\\" format=\\\"jpg\\\" (imageCropped)=\\\"imageCropped($event)\\\" (imageLoaded)=\\\"imageLoaded()\\\"\\r\\n    (cropperReady)=\\\"cropperReady()\\\" (loadImageFailed)=\\\"loadImageFailed()\\\" [aspectRatio]=\\\"16/9\\\"></image-cropper>\\r\\n  <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!uploadImageForm.valid\\\" >Guardar</button>\\r\\n  <p *ngIf=\\\"isSending\\\">Enviando...</p>\\r\\n  <p *ngIf=\\\"sent\\\">¡Subido correctamente!</p>\\r\\n  <p class=\\\"error\\\" *ngIf=\\\"error\\\">Error al subir el archivo , vuelve a intentarlo.</p>\\r\\n</form>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL25vdmVkYWRlcy91cGxvYWQtaW1hZ2UvdXBsb2FkLWltYWdlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Promotion } from './../../../models/promotion.model';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, Validators, FormControl } from '@angular/forms';\r\nimport { ImageCroppedEvent } from 'ngx-image-cropper';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-upload-image',\r\n  templateUrl: './upload-image.component.html',\r\n  styleUrls: ['./upload-image.component.scss']\r\n})\r\nexport class UploadImageComponent implements OnInit {\r\n  uploadImageForm = new FormGroup({\r\n    image: new FormControl(null, [Validators.required])\r\n  });\r\n  imageChangedEvent: any = '';\r\n  croppedImage: any = '';\r\n  imageBlob: Blob = null;\r\n  formData = new FormData();\r\n  isSending = false;\r\n  sent = false;\r\n  error = false;\r\n\r\n\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  fileChangeEvent(event: any): void {\r\n    console.log('Event', event);\r\n    this.imageChangedEvent = event;\r\n  }\r\n\r\n  imageCropped(event: ImageCroppedEvent) {\r\n    this.croppedImage = event.file;\r\n    console.log('ImagedCroped', this.croppedImage);\r\n  }\r\n  imageLoaded() {\r\n    // show cropper\r\n  }\r\n  cropperReady() {\r\n    // cropper ready\r\n  }\r\n  loadImageFailed() {\r\n    // show message\r\n  }\r\n\r\n  prepareImage() {\r\n    const arrayBlob = new Array<Blob>();\r\n    arrayBlob.push(this.croppedImage);\r\n    const date = new Date();\r\n    const fileName = '' +\r\n      date.getDay() +\r\n      date.getMonth() +\r\n      date.getFullYear() +\r\n      date.getMinutes() +\r\n      date.getSeconds() + date.getMilliseconds();\r\n    const file = new File(arrayBlob, `${fileName}.jpg`, { type: 'image/jpeg' });\r\n    this.formData.append('image', file);\r\n  }\r\n\r\n  postImage() {\r\n    this.isSending = true;\r\n    this.http.post('http://localhost:3333/promotion/image', this.formData).subscribe((data: any) => {\r\n      this.isSending = false;\r\n      this.error = false;\r\n      if (data) {\r\n        this.sent = true;\r\n        // Solución a volver a subir imagen\r\n        this.formData = new FormData();\r\n        setTimeout(() => {\r\n          this.sent = false;\r\n        }, 2000);\r\n      }\r\n    },\r\n    err => {\r\n      this.isSending = false;\r\n      this.sent = false;\r\n      this.error = true;\r\n      console.error('Error', err);\r\n    });\r\n  }\r\n\r\n  uploadImage() {\r\n    this.prepareImage();\r\n    if (this.formData.get('image')) {\r\n      this.postImage();\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \"<form [formGroup]=\\\"videoFormGroup\\\">\\r\\n  <h2>Selecciona un vídeo como promoción</h2>\\r\\n  <p>Luego podrás ocultaro o eliminarlo en editar promociones</p>\\r\\n  <div>\\r\\n    <input type=\\\"file\\\" accept=\\\"video/*\\\" name=\\\"video\\\" (change)=\\\"fileChangeEvent($event)\\\" formControlName=\\\"video\\\" />\\r\\n  </div>\\r\\n  <div *ngIf=\\\"videoFormGroup.valid\\\">\\r\\n    <video #videoView width=\\\"auto\\\" controls>\\r\\n      <source [src]=\\\"\\\"\\r\\n        [type]=\\\"(videoFile && videoFile.type) ? videoFile.type : 'video/mp4'\\\">\\r\\n      Tu explorador no soporta html5\\r\\n    </video>\\r\\n  </div>\\r\\n  <br>\\r\\n  <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!videoFormGroup.valid\\\" (click)=\\\"saveVideo()\\\">Guardar</button>\\r\\n  <p *ngIf=\\\"isSending\\\">Enviando...</p>\\r\\n  <p *ngIf=\\\"sent\\\">¡Subido correctamente!</p>\\r\\n  <p class=\\\"error\\\" *ngIf=\\\"error\\\">Error al subir el archivo , vuelve a intentarlo.</p>\\r\\n\\r\\n</form>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL25vdmVkYWRlcy91cGxvYWQtdmlkZW8vdXBsb2FkLXZpZGVvLmNvbXBvbmVudC5zY3NzIn0= */\"","import { HttpClient } from '@angular/common/http';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { bypassSanitizationTrustResourceUrl } from '@angular/core/src/sanitization/bypass';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'app-upload-video',\r\n  templateUrl: './upload-video.component.html',\r\n  styleUrls: ['./upload-video.component.scss']\r\n})\r\nexport class UploadVideoComponent implements OnInit {\r\n  videoFormGroup = new FormGroup({\r\n    video: new FormControl(null, [Validators.required])\r\n  });\r\n  videoFile = null;\r\n  isSending = false;\r\n  sent = false;\r\n  error = false;\r\n  @ViewChild('videoView') videoView: ElementRef;\r\n\r\n\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  fileChangeEvent(event: any) {\r\n    console.log('Evento', event);\r\n    console.log('Form control video', this.videoFormGroup.get('video').value);\r\n    const files = (event && event.target && event.target.files) ? event.target.files : [];\r\n\r\n\r\n    if (files.length > 0) {\r\n      this.videoFile = files[0];\r\n      console.log('Video file', this.videoFile);\r\n      this.videoView.nativeElement.src = URL.createObjectURL(this.videoFile);\r\n      this.videoView.nativeElement.load();\r\n    }\r\n  }\r\n\r\n  getLocalUrlFile() {\r\n    if (this.videoFile) {\r\n      return URL.createObjectURL(this.videoFile);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  saveVideo() {\r\n    const formData = new FormData();\r\n    const date = new Date();\r\n    const fileName = '' +\r\n    date.getDay() +\r\n    date.getMonth() +\r\n    date.getFullYear() +\r\n    date.getMinutes() +\r\n    date.getSeconds() + date.getMilliseconds();\r\n\r\n    formData.append('video', this.videoFile, fileName);\r\n    this.isSending = true;\r\n\r\n    this.http.post('http://localhost:3333/promotion/video', formData).subscribe(data => {\r\n      console.log('Data', data);\r\n      this.isSending = false;\r\n      this.error = false;\r\n      this.sent = true;\r\n    },\r\n      err => {\r\n        this.isSending = false;\r\n        this.sent = false;\r\n        this.error = true;\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}