{"version":3,"sources":["webpack:///./src/app/elements/elements-routing.module.ts","webpack:///./src/app/elements/elements.component.html","webpack:///./src/app/elements/elements.component.scss","webpack:///./src/app/elements/elements.component.ts","webpack:///./src/app/elements/elements.module.ts"],"names":[],"mappings":"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","file":"elements-elements-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ElementsComponent } from './elements.component';\n\nconst routes: Routes = [{\n  path: '',\n  component: ElementsComponent\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ElementsRoutingModule { }\n","module.exports = \"<form class=\\\"search-form\\\" [formGroup]=\\\"searchForm\\\">\\n  <mat-form-field class=\\\"width-50\\\">\\n    <input matInput placeholder=\\\"Filtra por titulo\\\" formControlName=\\\"search\\\" type=\\\"search\\\" (keyup)=\\\"filter()\\\">\\n  </mat-form-field>\\n  <span style=\\\"padding-left: 1em\\\">Elementos listados: {{filteredElements.length}}</span>\\n</form>\\n\\n<mat-card class=\\\"card\\\" *ngFor=\\\"let element of filteredElements\\\">\\n  <div class=\\\"relative\\\">\\n    <button mat-flat-button color=\\\"secondary\\\" (click)=\\\"editElement(element._id)\\\">\\n      <span>Editar</span>\\n    </button>\\n\\n    <button mat-flat-button color=\\\"warn\\\" (click)=\\\"deleteElement(element._id)\\\">\\n      <span *ngIf=\\\"!isDeleting\\\">Eliminar</span>\\n      <span *ngIf=\\\"isDeleting\\\">Eliminando...</span>\\n    </button>\\n  </div>\\n\\n  <div class=\\\"left\\\">\\n    <div class=\\\"image\\\" [style.background-image]=\\\"getImageUrl(element)\\\">\\n    </div>\\n  </div>\\n\\n  <div class=\\\"right\\\">\\n    <h2>{{element.name.es}}</h2>\\n    <h4>Ingredientes</h4>\\n    <mat-chip-list>\\n      <mat-chip [color]=\\\"i%2===0 ? 'primary':'secondary'\\\" selected\\n        *ngFor=\\\"let ingredient of element.ingredients; let i = index\\\">{{ingredient.name.es}}</mat-chip>\\n    </mat-chip-list>\\n\\n    <h4>Al√©rgenos</h4>\\n    <mat-chip-list>\\n      <mat-chip [color]=\\\"i%2===0 ? 'primary':'secondary'\\\" selected\\n        *ngFor=\\\"let allergen of element.allergens; let i=index\\\">\\n        {{allergen.name.es}}</mat-chip>\\n    </mat-chip-list>\\n\\n    <h4>Precio</h4>\\n    <mat-chip-list>\\n      <mat-chip color=\\\"primary\\\">{{element.price | currency: 'EUR'}}</mat-chip>\\n    </mat-chip-list>\\n  </div>\\n\\n\\n</mat-card>\\n\\n\\n<mat-card class=\\\"card\\\" *ngIf=\\\"noContent\\\">\\n  <h2>No hay elementos en la carta</h2>\\n</mat-card>\\n\\n\\n<mat-card class=\\\"card\\\" *ngIf=\\\"noResult\\\">\\n  <h2>No hay resultados para <i>\\\"{{searchForm.get('search').value}}\\\"</i></h2>\\n</mat-card>\\n\"","module.exports = \".search-form {\\n  width: 70%;\\n  margin: 1em auto; }\\n\\n.card {\\n  display: flex;\\n  flex-direction: row;\\n  position: relative; }\\n\\n.card .relative {\\n    position: absolute;\\n    top: 0.5em;\\n    right: 0.5em; }\\n\\n.card .left {\\n    width: 50%; }\\n\\n.card .left .image {\\n      width: 100%;\\n      height: 100%;\\n      background-size: 100%;\\n      background-repeat: no-repeat;\\n      background-position: center;\\n      position: relative; }\\n\\n.card .left .image.max-height {\\n        height: 100%; }\\n\\n.card .right {\\n    width: 50%;\\n    position: relative; }\\n\\n.width-50 {\\n  width: 50%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWxlbWVudHMvQzpcXHdvcmtzcGFjZS1nZW5lcmFsXFxiaW5nb1xcYmluZ28tYWRtaW4tYXBwL3NyY1xcYXBwXFxlbGVtZW50c1xcZWxlbWVudHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxVQUFVO0VBQ1YsZ0JBQWdCLEVBQUE7O0FBR2xCO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixrQkFBa0IsRUFBQTs7QUFIcEI7SUFLSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLFlBQVksRUFBQTs7QUFQaEI7SUFVSSxVQUFVLEVBQUE7O0FBVmQ7TUFZTSxXQUFXO01BQ1gsWUFBWTtNQUlaLHFCQUFxQjtNQUNyQiw0QkFBNEI7TUFDNUIsMkJBQTJCO01BQzNCLGtCQUFrQixFQUFBOztBQXBCeEI7UUFlUSxZQUFZLEVBQUE7O0FBZnBCO0lBeUJJLFVBQVU7SUFDVixrQkFBa0IsRUFBQTs7QUFJdEI7RUFDRSxVQUFVLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9lbGVtZW50cy9lbGVtZW50cy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zZWFyY2gtZm9ybSB7XHJcbiAgd2lkdGg6IDcwJTtcclxuICBtYXJnaW46IDFlbSBhdXRvO1xyXG59XHJcblxyXG4uY2FyZCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAucmVsYXRpdmUge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwLjVlbTtcclxuICAgIHJpZ2h0OiAwLjVlbTtcclxuICB9XHJcbiAgLmxlZnQge1xyXG4gICAgd2lkdGg6IDUwJTtcclxuICAgIC5pbWFnZSB7XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICYubWF4LWhlaWdodCB7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICB9XHJcbiAgICAgIGJhY2tncm91bmQtc2l6ZTogMTAwJTtcclxuICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAucmlnaHQge1xyXG4gICAgd2lkdGg6IDUwJTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICB9XHJcbn1cclxuXHJcbi53aWR0aC01MCB7XHJcbiAgd2lkdGg6IDUwJTtcclxufVxyXG4iXX0= */\"","import { element } from 'protractor';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MenuElement } from './../../models/menu-element.model';\nimport { HttpClient, HttpParams, HttpResponse } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-elements',\n  templateUrl: './elements.component.html',\n  styleUrls: ['./elements.component.scss']\n})\nexport class ElementsComponent implements OnInit {\n  baseUrl = 'http://localhost:3333';\n\n  menuElemnts: MenuElement[] = [];\n  filteredElements: MenuElement[] = [];\n  noContent = false;\n  noResult = false;\n  searchForm = new FormGroup({\n    search: new FormControl('')\n  });\n  isDeleting = false;\n\n  constructor(\n    private http: HttpClient,\n    private sanitization: DomSanitizer,\n    private router: Router\n    ) { }\n\n  ngOnInit() {\n    this.http.get(this.baseUrl + '/menu-item').subscribe((res: Array<MenuElement>) => {\n      if (res && res.length > 0) {\n        this.menuElemnts = res;\n        this.filteredElements = [...this.menuElemnts];\n      } else {\n        this.menuElemnts = null;\n        this.noContent = true;\n      }\n    });\n  }\n\n  filter() {\n    this.filteredElements = [...this.menuElemnts.filter(element => {\n      let searchValue = this.searchForm.controls.search.value;\n      if (searchValue) {\n        searchValue = searchValue.toLowerCase();\n      }\n      return element.name.es.toLowerCase().includes(searchValue);\n    })];\n    if (this.filteredElements.length === 0) {\n      this.noResult = true;\n    } else {\n      this.noResult = false;\n    }\n  }\n\n  getImageUrl(element: MenuElement) {\n    return this.sanitization.bypassSecurityTrustStyle(`url(${this.baseUrl + '/' + element.image})`);\n  }\n\n  deleteElement(id: string) {\n    this.isDeleting = true;\n    this.http.delete(this.baseUrl + '/menu-item?_id=' + id).subscribe((data: HttpResponse<any>) => {\n      this.isDeleting = false;\n      if (data.status === 201) {\n        this.menuElemnts = this.menuElemnts.filter(filtered => filtered._id !== id);\n        this.filteredElements = [...this.menuElemnts];\n        // TODO: ya veremos\n      }\n    });\n  }\n\n  editElement(id: string) {\n    this.router.navigate(['/'], {\n      queryParams: {\n        id\n      }\n    });\n  }\n\n}\n","import { HttpClientModule } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ElementsRoutingModule } from './elements-routing.module';\nimport { ElementsComponent } from './elements.component';\nimport { MatCardModule, MatChipsModule, MatFormFieldModule, MatInputModule, MatButtonModule } from '@angular/material';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [ElementsComponent],\n  imports: [\n    CommonModule,\n    ElementsRoutingModule,\n    MatCardModule,\n    HttpClientModule,\n    MatChipsModule,\n    MatFormFieldModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatInputModule,\n    MatButtonModule\n  ]\n})\nexport class ElementsModule { }\n"],"sourceRoot":""}